# Программа для перевода книг

Эта программа предназначена для автоматического перевода книг с использованием API OpenRouter.

## Подготовка к использованию

1. Убедитесь, что у вас установлен Node.js и npm.
2. Клонируйте репозиторий и перейдите в папку проекта.
3. Установите зависимости, выполнив команду:
   ```
   npm install
   ```
4. Создайте файл `.env` в корневой папке проекта и добавьте в него ваш API ключ OpenRouter:
   ```
   OPENROUTER_API_KEY=ваш_api_ключ_здесь
   ```

## Структура файлов и папок

- `data/`: папка для исходных файлов
  - `sections/`: папка с файлами разделов книги для перевода
  - `toc.json`: файл с оглавлением книги
- `result/`: папка для результатов перевода
- `logs/`: папка для логов (создается автоматически)

## Подготовка файлов для перевода

1. Создайте папку `data/sections/` и поместите в нее файлы разделов книги в формате Markdown (.md).
2. Создайте файл `data/toc.json` со структурой оглавления книги. Пример:
   ```json
   [
     {
       "title": "Название главы 1",
       "page": 1,
       "fileName": "c1.md",
       "chapter": "Глава 1"
     },
     {
       "title": "Название раздела 1.1",
       "page": 2,
       "fileName": "c1s1.md",
       "chapter": "Глава 1"
     }
   ]
   ```

## Настройка параметров перевода

Откройте файл `translateBook.ts` и настройте следующие параметры:

- `targetLanguage`: язык перевода (например, "Russian")
- `modelName`: модель для перевода (например, "anthropic/claude-3.5-sonnet")
- `chunkSize`: размер фрагмента текста для перевода (по умолчанию 1000)
- `pageFilter`: функция фильтрации страниц для перевода

## Запуск программы

Выполните следующую команду для запуска процесса перевода:

```
npx ts-node translateBook.ts
```

## Результаты

После завершения работы программы:

1. Переведенные файлы будут сохранены в папке `result/[язык]/[модель]/`.
2. Оригинальные тексты будут сохранены в папке `result/kr/`.
3. Логи запросов к API будут сохранены в папке `logs/`.

## Примечание

Убедитесь, что у вас достаточно средств на счету OpenRouter для выполнения перевода. Стоимость может варьироваться в зависимости от выбранной модели и объема текста.
